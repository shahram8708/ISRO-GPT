{% extends 'base.html' %}

{% block title %}Error {{ code }}{% endblock %}

{% block content %}
<div class="container-fluid mt-3 bg-light">
  <div class="row justify-content-center align-items-center h-100">
    <div class="col-12 col-md-8 col-lg-6 col-xl-5">
      <div class="card border-0 shadow-lg rounded-4 overflow-hidden">
        <div class="bg-gradient-primary py-5 px-4 text-center">
          <div class="mb-4">
            <i class="fas fa-exclamation-triangle fa-4x text-white opacity-90"></i>
          </div>
          <h1 class="display-1 fw-bold text-white mb-2">{{ code }}</h1>
          <h3 class="h2 text-white opacity-90 mb-0">Oops! Something went wrong</h3>
        </div>

        <div class="card-body p-5 text-center">
          <div class="mb-4">
            <p class="lead text-muted mb-4">{{ message }}</p>
            <div class="bg-light rounded-3 p-3 mb-4">
              <small class="text-muted">
                <i class="fas fa-info-circle me-2"></i>
                You will be automatically redirected to the dashboard in <span id="countdown" class="fw-bold">10</span>
                seconds
              </small>
            </div>
          </div>

          <div class="d-grid gap-3 d-md-flex justify-content-md-center">
            <a href="{{ url_for('dashboard') }}" class="btn btn-primary btn-lg px-4 rounded-2 fw-semibold shadow-sm">
              <i class="fas fa-home me-2"></i>Go to Dashboard
            </a>
            <button onclick="history.back()" class="btn btn-outline-secondary btn-lg px-4 rounded-2 fw-semibold">
              <i class="fas fa-arrow-left me-2"></i>Go Back
            </button>
          </div>
        </div>
      </div>

      <div class="text-center mt-4">
        <small class="text-muted">
          Need help? <a href="#" class="text-decoration-none text-dark">Contact Support</a> or
          <a href="#" class="text-decoration-none text-dark">Visit Help Center</a>
        </small>
      </div>
    </div>
  </div>
</div>
{% endblock %}
<script>
  let seconds = 10;
  const countdownElement = document.getElementById('countdown');
  
  const countdown = setInterval(() => {
    seconds--;
    countdownElement.textContent = seconds;
    
    if (seconds <= 0) {
      clearInterval(countdown);
      window.location.href = "{{ url_for('dashboard') }}";
    }
  }, 1000);

  document.addEventListener('DOMContentLoaded', function() {
    const card = document.querySelector('.card');
    card.style.opacity = '0';
    card.style.transform = 'translateY(20px)';
    
    setTimeout(() => {
      card.style.transition = 'all 0.5s ease';
      card.style.opacity = '1';
      card.style.transform = 'translateY(0)';
    }, 100);
  });
</script>


{% block scripts %}
{{ super() }}
<style>
  .bg-gradient-primary {
    background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
  }

  .rounded-4 {
    border-radius: 1rem !important;
  }

  .rounded-2 {
    border-radius: 0.5rem !important;
  }

  .shadow-lg {
    box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.1) !important;
  }

  .btn-primary {
    background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%);
    border: none;
    transition: all 0.3s ease;
  }

  .btn-primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 0.5rem 1rem rgba(13, 110, 253, 0.15) !important;
  }

  .btn-outline-secondary {
    transition: all 0.3s ease;
    border: 2px solid #6c757d;
  }

  .btn-outline-secondary:hover {
    transform: translateY(-1px);
    background-color: #6c757d;
    color: white;
  }

  .card {
    transition: transform 0.3s ease;
  }

  @media (max-width: 768px) {
    .card-body {
      padding: 2rem 1.5rem !important;
    }

    .bg-gradient-primary {
      padding: 3rem 1.5rem !important;
    }

    .display-1 {
      font-size: 4rem !important;
    }

    .d-md-flex {
      flex-direction: column;
    }

    .btn-lg {
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
    }
  }

  @keyframes pulse {
    0% {
      transform: scale(1);
    }

    50% {
      transform: scale(1.05);
    }

    100% {
      transform: scale(1);
    }
  }

  .fa-exclamation-triangle {
    animation: pulse 2s ease-in-out infinite;
  }

  a,
  button {
    transition: all 0.2s ease-in-out;
  }
</style>
{% endblock %}